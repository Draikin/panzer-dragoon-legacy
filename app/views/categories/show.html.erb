<% title @category.name %>
<% description @category.description %>

<% unless @category.publish %>
  <p class="unpublished">Unpublished</p>
<% end %>

<%
  if (
    policy(CategoryGroup).new? ||
    policy(Category).new? ||
    policy(@category).edit? ||
    policy(@category).destroy?
  )
%>
  <ul class="administration">
    <% if policy(CategoryGroup).new? %>
      <li><%= link_to 'New Category Group', new_category_group_path %></li>
    <% end %>
    <% if policy(Category).new? %>
      <li><%= link_to 'New Category', new_category_path %></li>
    <% end %>
    <% if policy(@category).edit? %>
      <li><%= link_to 'Edit Category', edit_category_path(@category) %></li>
    <% end %>
    <% if policy(@category).destroy? %>
      <li>
        <%=
          link_to(
            'Delete Category',
            @category,
            data: { confirm: 'Are you sure you want to delete this category?' },
            method: :delete
          )
        %>
      </li>
    <% end %>
  </ul>
<% end %>

<%= @category.description %>

<%= render 'categories/show/articles' if @articles %>
<%= render 'categories/show/downloads' if @downloads %>
<%= render 'categories/show/encyclopaedia_entries' if @encyclopaedia_entries %>
<%= render 'categories/show/links' if @links %>
<%= render 'categories/show/music_tracks' if @music_tracks %>
<%= render 'categories/show/pictures' if @pictures %>
<%= render 'categories/show/resources' if @resources %>
<%= render 'categories/show/stories' if @stories %>
<%= render 'categories/show/videos' if @videos %>
