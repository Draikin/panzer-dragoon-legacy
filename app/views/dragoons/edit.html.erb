<% title "Edit Profile" %>

<%= form_for @dragoon, html: { multipart: true } do |f| %>
  <%= render "shared/error_messages", target: @dragoon %>
  <div>
    <% if current_dragoon.role? :administrator %>
      <%= f.label :name %><br />
      <%= f.text_field :name %>
    <% end %>
  </div>
  <div>
    <%= f.label :email_address %><br />
    <%= f.email_field :email_address %>
  </div>
  <div>
    <%= f.label :password %><br />
    <%= f.password_field :password %>
  </div>
  <div>
    <%= f.label :password_confirmation %><br />
    <%= f.password_field :password_confirmation %>
  </div>
  <div>
    <%= f.label :discourse_username, "Discourse Username" %><br />
    <%= f.text_field :discourse_username %>
  </div>
  <% if current_dragoon.role? :administrator %>
    <div>
      <%= f.label :role, "Role" %><br />
      <%= f.collection_select :role, Dragoon::ROLES, :to_s, :humanize %>
    </div>
  <% end %>
  <div>
    <%= f.label :avatar, "Avatar" %><br />
    <% if @dragoon.avatar? %>
      <%= image_tag @dragoon.avatar.url(:thumbnail) %><br />
      File has already been uploaded. Replace file?<br />
    <% end %>
    <%= f.file_field :avatar %>
  </div>
  <div>
    <%= f.label :website, "Website" %><br />
    <%= f.text_field :website %>
  </div>
  <div>
    <%= f.label :facebook_username, "Facebook Username" %><br />
    <%= f.text_field :facebook_username %>
  </div>
  <div>
    <%= f.label :twitter_username, "Twitter Username" %><br />
    <%= f.text_field :twitter_username %>
  </div>
  <div>
    <%= f.submit "Update Profile" %>
    <%= f.submit "Update and Continue Editing", name: :continue_editing %>
  </div>
<% end %>
