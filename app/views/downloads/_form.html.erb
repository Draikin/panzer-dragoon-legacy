<%= form_for @download, :html => { :multipart => true } do |f| %>  
  <%= render "shared/error_messages", :target => @download %>
  <div>  
    <%= f.label :category_id, "Category" %><br />
    <%= f.collection_select :category_id, @categories, :id, :name, :include_blank => false %> 
  </div>
  <div>
    <%= f.label :name, "Name" %><br />
    <%= f.text_field :name %>  
  </div>
  <div>
    <%= f.label :description, "Description" %><br />
    <%= f.text_area :description, :rows => 3 %>  
  </div>
  <div>  
    <%= f.label :download, "Download" %><br />
    <% if @download.download? %>
      File has already been uploaded. Replace file?<br />
    <% end %>
    <%= f.file_field :download %>  
  </div>
  <label>Contributors</label>
  <div class="scroll_checkboxes">
    <% for dragoon in Dragoon.order(:name) %>
      <label>
        <%= check_box_tag "download[dragoon_ids][]", dragoon.id, @download.dragoons.include?(dragoon) %>  
        <%= dragoon.name %>
      </label>
      <br />
    <% end %>
  </div>
  <div>
    <%= f.check_box :publish %> <%= f.label :publish, "Publish?" %>
  </div>
  <div>
    <%= f.submit "Submit" %>  
  </div>
<% end %>