<%= form_for [:admin, @download], html: { multipart: true } do |f| %>
  <%= render 'shared/error_messages', target: @download %>
  <%=
    render(
      partial: 'admin/components/category',
      locals: { f: f, categories: @categories }
    )
  %>
  <%=
    render(
      partial: 'admin/components/contributors',
      locals: {
        f: f, contributor_profile_ids: @download.contributor_profile_ids
      }
    )
  %>
  <%= render 'download', f: f %>
  <%= render partial: 'admin/components/name', locals: { f: f } %>
  <%= render partial: 'admin/components/description', locals: { f: f } %>
  <%= render partial: 'admin/components/extra_information', locals: { f: f } %>
  <%=
    render(
      partial: 'admin/components/encyclopaedia_entries',
      locals: {
        f: f, encyclopaedia_entry_ids: @download.encyclopaedia_entry_ids
      }
    )
  %>
  <% if policy(@download).permitted_attributes.include? :publish %>
    <%= render partial: 'admin/components/publish', locals: { f: f } %>
  <% end %>
  <%= render partial: 'admin/components/save_buttons', locals: { f: f } %>
<% end %>
